(function(t){function e(e){for(var i,r,o=e[0],u=e[1],c=e[2],f=0,p=[];f<o.length;f++)r=o[f],a[r]&&p.push(a[r][0]),a[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/giphy/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("app-header"),n("router-view")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row align-items-center"},[n("app-logo",{nativeOn:{click:function(e){return t.home(e)}}},[t._v("Giphy")]),n("app-input",{staticClass:"header_search",attrs:{placeholder:"Search"},on:{input:function(e){return t.searchGifs(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])},o=[],u=(n("386d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo"},[n("router-link",{staticClass:"logo_link",attrs:{to:"/"}},[t._t("default")],2)],1)}),c=[],l={name:"Logo"},f=l,p=n("2877"),h=Object(p["a"])(f,u,c,!1,null,"9091fb0e",null),d=h.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form_group d-flex align-items-center",class:{focusin:t.focusin}},[n("input",t._b({ref:"input",staticClass:"form_control",attrs:{type:"text",autocomplete:t.autocomplete},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,change:t.handleChange}},"input",t.$attrs,!1)),n("button",{directives:[{name:"show",rawName:"v-show",value:t.value,expression:"value"}],on:{click:t.handleClear}},[n("svg",{staticStyle:{"enable-background":"new 0 0 357 357"},attrs:{version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"357px",height:"357px",viewBox:"0 0 357 357","xml:space":"preserve"}},[n("g",{attrs:{id:"clear"}},[n("polygon",{attrs:{points:"357,35.7 321.3,0 178.5,142.8 35.7,0 0,35.7 142.8,178.5 0,321.3 35.7,357 178.5,214.2 321.3,357 357,321.3\n\t\t\t214.2,178.5 \t\t"}})])])])])},m=[],v=(n("c5f6"),{name:"Input",props:{value:[String,Number],autocomplete:{type:String,default:"off"}},data:function(){return{focusin:!1}},watch:{nativeInputValue:function(){this.setNativeInputValue()}},computed:{nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},handleBlur:function(t){!t.target.value.length>0&&(this.focusin=!1),this.$emit("blur",t)},setNativeInputValue:function(){var t=this.getInput();t.value=this.nativeInputValue},handleFocus:function(t){this.$emit("focus",t)},handleInput:function(t){t.target.value.length?this.focusin=!0:this.focusin=!1,this.$emit("input",t.target.value),this.$nextTick(this.setNativeInputValue)},handleChange:function(t){this.$emit("change",t.target.value)},handleClear:function(){this.focusin=!1,this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},getInput:function(){return this.$refs.input}},mounted:function(){this.setNativeInputValue()}}),_=v,w=Object(p["a"])(_,g,m,!1,null,"508df4c2",null),b=w.exports,S={name:"Header",data:function(){return{search:""}},methods:{home:function(){this.search="",this.$store.commit("SET_QUERY",this.search),this.$store.dispatch("SEARCH_GIFS",{query:this.search})},searchGifs:function(t){this.$router.push({name:"home"}),this.$store.commit("SET_QUERY",t),this.$store.dispatch("SEARCH_GIFS",{query:t})}},components:{AppLogo:d,AppInput:b}},y=S,x=Object(p["a"])(y,r,o,!1,null,"98d6c264",null),O=x.exports,C={components:{AppHeader:O}},E=C,$=(n("5c0b"),Object(p["a"])(E,a,s,!1,null,null,null)),I=$.exports,F=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.notFound.status?n("div",{staticClass:"row"},[n("img",{attrs:{src:t.notFound.data.images.original.webp,alt:"",width:"100%",height:"100%"}})]):n("transition-group",{staticClass:" row ",attrs:{name:"company",tag:"div"}},t._l(t.gifs,function(t){return n("div",{key:t.id,staticClass:"col-4"},[n("PostGif",{attrs:{gif:t}})],1)}),0),t.loading?n("div",{staticClass:"loading"},[n("svg",{attrs:{"xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.0",width:"64px",height:"64px",viewBox:"0 0 128 128","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M78.75 16.18V1.56a64.1 64.1 0 0 1 47.7 47.7H111.8a49.98 49.98 0 0 0-33.07-33.08zM16.43 49.25H1.8a64.1 64.1 0 0 1 47.7-47.7V16.2a49.98 49.98 0 0 0-33.07 33.07zm33.07 62.32v14.62A64.1 64.1 0 0 1 1.8 78.5h14.63a49.98 49.98 0 0 0 33.07 33.07zm62.32-33.07h14.62a64.1 64.1 0 0 1-47.7 47.7v-14.63a49.98 49.98 0 0 0 33.08-33.07z",fill:"#000"}}),n("animateTransform",{attrs:{attributeName:"transform",type:"rotate",from:"0 64 64",to:"-90 64 64",dur:"600ms",repeatCount:"indefinite"}})],1)])]):t._e()],1)},G=[],k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{staticClass:"gifs_card",attrs:{to:{name:"gifOne",params:{id:t.gif.id}}}},[n("v-lazy-image",{attrs:{src:t.gif.images.fixed_height.webp?t.gif.images.fixed_height.webp:t.gif.images.fixed_height.url,"src-placeholder":t.gif.images.preview_gif.url}}),n("p",[t._v(t._s(t.gif.title))])],1)},A=[],N=n("8dc2"),j=n.n(N),U={name:"PostGif",props:{gif:{type:Object}},components:{VLazyImage:j.a}},L=U,R=Object(p["a"])(L,k,A,!1,null,"56d051cb",null),D=R.exports,P={name:"Index",computed:{gifs:function(){return this.$store.getters.gifs},loading:function(){return this.$store.getters.loading},isSearch:function(){return this.$store.getters.isSearch},notFound:function(){return this.$store.state.notFound}},methods:{loadMore:function(){var t=this;window.onscroll=function(e){var n=e.target,i=n.firstElementChild||n.firstChild,a=window.pageYOffset||n.documentElement.scrollTop,s=n.documentElement.clientHeight,r=i.offsetHeight||i.parentNode.documentElement.offsetHeight,o=r-s;o<=a+100&&!t.loading&&!t.notFound.status&&t.$store.dispatch("SEARCH_GIFS",{scroll:!0})}}},components:{PostGif:D},created:function(){this.isSearch||this.$store.dispatch("LOAD_GIFS"),this.loadMore()}},H=P,V=Object(p["a"])(H,T,G,!1,null,null,null),M=V.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.gif.images?n("div",{staticClass:"about"},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"gif_one"},[n("h2",[t._v(t._s(t.gif.title))]),n("img",{attrs:{src:t.gif.images.original.webp?t.gif.images.original.webp:t.gif.images.original.url,alt:""}}),n("br"),n("router-link",{attrs:{to:{name:"Profile",params:{id:t.gif.username}}}},[t._v(t._s(t.gif.username))])],1)])])])]):t._e()},Q=[],Y={name:"gifOne",data:function(){return{gif:{}}},methods:{loadGif:function(t){var e=this;this.$store.dispatch("LOAD_GIF",t).then(function(t){e.gif=t})}},created:function(){this.loadGif(this.$route.params.id)}},z=Y,K=Object(p["a"])(z,q,Q,!1,null,null,null),B=K.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-4"},[n("div",{staticClass:"user_block"},[n("img",{attrs:{src:t.user.avatar_url,alt:t.user.username}}),n("p",[t._v(t._s(t.user.username))]),n("a",{attrs:{href:t.user.profile_url,target:"_blank"}},[t._v("Profile Giphy")])])])])])},W=[],X={name:"profile",computed:{user:function(){return this.$store.state.userGif}}},Z=X,tt=Object(p["a"])(Z,J,W,!1,null,"667b5736",null),et=tt.exports;i["a"].use(F["a"]);var nt=new F["a"]({mode:"history",base:"/giphy/",routes:[{path:"/",name:"home",component:M},{path:"/:id",name:"gifOne",component:B},{path:"/profile/:id",name:"Profile",component:et}]}),it=n("2f62"),at={baseURL:"https://api.giphy.com",apiKey:"Qg8TSPTSEubaQ0gPs40Myih84mI1vOjY"};i["a"].use(it["a"]);var st=new it["a"].Store({state:{gifs:[],userGif:{},defaultLimit:18,limit:18,offset:0,isSearch:!1,query:"",loading:!1,notFound:{status:!1}},mutations:{LOAD_GIFS:function(t,e){t.gifs=e},USER:function(t,e){t.userGif=e},SET_SEARCH_STATUS:function(t,e){t.isSearch=e},SET_QUERY:function(t,e){t.query=e},NOT_FOUND:function(t,e){t.notFound.data=e.data,t.notFound.status=e.status}},actions:{LOAD_GIFS:function(t){var e=t.commit,n=t.state;e("SET_SEARCH_STATUS",!1),e("SET_QUERY",""),e("NOT_FOUND",{data:{},status:!1}),axios.get("/v1/gifs/trending",{params:{api_key:at.apiKey,limit:n.limit}}).then(function(t){var n;n=t.data.data,e("LOAD_GIFS",n)})},LOAD_GIF:function(t,e){var n=t.commit;t.state;return new Promise(function(t,i){axios.get("/v1/gifs/".concat(e),{params:{api_key:at.apiKey}}).then(function(e){n("USER",e.data.data.user),t(e.data.data)}).catch(function(t){i(t)})})},SEARCH_GIFS:function(t,e){var n=t.commit,i=t.state,a=t.dispatch,s=e.query||i.query;n("NOT_FOUND",{data:{},status:!1}),s?(n("SET_QUERY",s),n("SET_SEARCH_STATUS",!0),i.loading=!0,axios.get("v1/gifs/search",{params:{api_key:at.apiKey,q:s,limit:i.limit,offset:e.scroll?i.offset+i.defaultLimit:i.offset,rating:"G",lang:"en"}}).then(function(t){var s;if(s=t.data.data,e.scroll){console.log(e.scroll);var r=i.gifs.concat(s);n("LOAD_GIFS",r),i.offset=i.offset+i.defaultLimit}else n("LOAD_GIFS",s);s.length||a("NOT_FOUND"),i.loading=!1})):e.scroll||a("LOAD_GIFS")},NOT_FOUND:function(t){var e=t.commit;axios.get("/v1/gifs/random",{params:{api_key:at.apiKey,tag:"not found",rating:"G"}}).then(function(t){var n={};n.data=t.data.data,n.status=!0,e("NOT_FOUND",n)})}},getters:{gifs:function(t){return t.gifs},loading:function(t){return t.loading},isSearch:function(t){return t.isSearch}}}),rt=n("bc3a"),ot=n.n(rt);ot.a.defaults.baseURL=at.baseURL,window.axios=ot.a,i["a"].config.productionTip=!1,new i["a"]({router:nt,store:st,render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var i=n("5e27"),a=n.n(i);a.a},"5e27":function(t,e,n){}});
//# sourceMappingURL=app.5fa1afba.js.map